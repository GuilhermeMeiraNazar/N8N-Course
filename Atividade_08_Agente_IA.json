{
  "name": "Atividade_08_Agente_IA",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        0,
        0
      ],
      "id": "63d76077-3078-4a00-8584-5269fb53b2bc",
      "name": "When chat message received",
      "webhookId": "4d605b82-5fc3-4662-a0c2-0a848dc3fec4"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=Voce eh um agente de IA. voce tem como objetivo enviar emails. Voce possui duas ferramenteas , a minha planilha e o meu email.\n\n##Ferramentas:\n\n1) Planilha:\n\nVoce tem acesso a essa ferramenta para olhar os contatos que eu tenho e as informacoes deles , como email , nome , etc . voce usa o email na planilha para enviar o email usando a outra ferramenta.\n\n2) Gmail\n\nUsa essea ferramenta para realizar as seguintes funcoes , ver os emails e enviar emails \n\n- Envie email com o formato empressarial , sendo formal\n- O email deve seguir o seguinte padrao:\n\nBom dia, @Nome_da_Pessoa, Tudo bem ?\n\nCorpo do email assunto 1\n\nCorpo do email assunto 2\n\nObrigado, pela atencao , se tiver alguma duvida pode me contatar.\natenciosamente\n\n- Nota-se que deve ter pular uma linha entre cada parte do email e  deve tem n corpos dependendo dos assuntos que forem tratados no email para deixar a conversa mais clara. \n\n\n\n\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        208,
        0
      ],
      "id": "15c96732-d9c8-49bd-9dd4-730ac6379b08",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-3.5-turbo",
          "mode": "list",
          "cachedResultName": "gpt-3.5-turbo"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -32,
        352
      ],
      "id": "5adb51a9-8bcd-42b7-8d70-dc3fc90f3c10",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "ig7Mk4hr02iU7Dfz",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        208,
        352
      ],
      "id": "90e6326b-1442-4cb9-aac3-dffdfce2f17b",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "sendTo": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('To', ``, 'string') }}",
        "subject": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}",
        "message": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        416,
        352
      ],
      "id": "68184728-0c64-480a-bb1c-4f461cdf9912",
      "name": "Send a message in Gmail",
      "webhookId": "9486c6df-d6d0-4c3c-972f-ce6a41e10b8c",
      "credentials": {
        "gmailOAuth2": {
          "id": "Kar5755YzNIGGZo3",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1NLlkO8M6ZIg6O7aRJ38wLZ8igeRemf-7GBhza6ksfBI",
          "mode": "list",
          "cachedResultName": "Teste_Coleta_feedback",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1NLlkO8M6ZIg6O7aRJ38wLZ8igeRemf-7GBhza6ksfBI/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "PÃ¡gina1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1NLlkO8M6ZIg6O7aRJ38wLZ8igeRemf-7GBhza6ksfBI/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.6,
      "position": [
        592,
        352
      ],
      "id": "dd6b5a31-560d-4dc3-a07d-f821f994cf8e",
      "name": "Get row(s) in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "vaAWMoMCwlTREqW7",
          "name": "Google Sheets account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "e4fe9759-49ae-46dc-9518-4694cd1bba87",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "feca97840fd699ed8fdeda14fb121852d6d79254a6c3d2ab9888cf1c5dc50c79"
  },
  "id": "uN1OX5nJWQp5eY8X",
  "tags": []
}